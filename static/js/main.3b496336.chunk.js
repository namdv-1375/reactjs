(this["webpackJsonpexercise-2"]=this["webpackJsonpexercise-2"]||[]).push([[0],{21:function(e,t,a){e.exports=a(32)},26:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),i=a.n(s),l=(a(26),a(5)),c=a(6),u=a(8),d=a(7),o=a(19),m=a(35),h=a(9),v=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.children}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={id:null,isHover:!1},e}return Object(c.a)(a,[{key:"onMouseEnterHandler",value:function(e){this.setState({id:e,isHover:!0})}},{key:"onMouseLeaveHandler",value:function(e){this.setState({id:e,isHover:!1})}},{key:"renderActionButton",value:function(e){var t=this,a=this.props,n=a.isAdded,s=a.isEdited;return a.isCanceled||!n&&!s?this.state.isHover?r.a.createElement("div",null,r.a.createElement("span",{onClick:function(){return t.props.editUserHandler(e)}},r.a.createElement("i",{className:"fa fa-edit mg-r-10 custom-icon-action"})),r.a.createElement("span",{onClick:function(){return t.props.deleteUserHandler(e)}},r.a.createElement("i",{className:"fa fa-trash custom-icon-action"}))):void 0:null}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.index;return r.a.createElement("tr",{key:"user-".concat(n),onMouseEnter:function(){return e.onMouseEnterHandler(a.id)},onMouseLeave:function(){return e.onMouseLeaveHandler(a.id)}},r.a.createElement(v,null,r.a.createElement("td",{className:"text-left",width:"20%"},a.name),r.a.createElement("td",{className:"text-left",width:"20%"},a.email),r.a.createElement("td",{className:"text-center",width:"10%"},this.renderActionButton(a.id))))}}]),a}(n.Component),b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={data:n.props.data||[],currentPage:1,dataPerPage:3},n.handleClick=n.handleClick.bind(Object(h.a)(n)),n}return Object(c.a)(a,[{key:"handleClick",value:function(e){this.setState({currentPage:Number(e.target.id)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({data:e.data})}},{key:"renderData",value:function(){var e=this,t=this.props,a=t.isAdded,n=t.isEdited,s=t.isCanceled,i=t.currentUser,l=t.editUserHandler,c=t.deleteUserHandler,u=this.state,d=u.data,o=u.currentPage,m=u.dataPerPage,h=o*m,v=h-m,b=d.slice(v,h);return d.length<=m&&(b=d),b.map((function(t,u){return r.a.createElement(f,{user:t,index:u,currentUser:i,key:u,isAdded:a,isEdited:n,isCanceled:s,editUserHandler:l.bind(e),deleteUserHandler:c.bind(e)})}))}},{key:"renderPageNumbers",value:function(){for(var e=this,t=this.state,a=t.data,n=t.dataPerPage,s=t.currentPage,i=[],l=1;l<=Math.ceil(a.length/n);l++)i.push(l);var c=i.map((function(t){return r.a.createElement("li",{className:"page-item ".concat(t===s?"active":null),key:t},r.a.createElement("a",{className:"page-link",href:"#",id:t,onClick:e.handleClick},t))}));return i.length<=1?null:r.a.createElement("tr",null,r.a.createElement("ul",{className:"pagination pd-top-15 pd-left-15"},c))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderData(),this.renderPageNumbers())}}]),a}(n.Component),p=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"renderButtonAddUser",value:function(){var e=this;return this.props.isAdded?null:r.a.createElement("tr",null,r.a.createElement("td",{colSpan:"3",className:"text-center",width:"100%"},r.a.createElement(m.a,{variant:"primary",onClick:function(){return e.props.addUserHandler()}},"Add User")))}},{key:"render",value:function(){var e=this.props,t=e.users,a=e.isAdded,n=e.isEdited,s=e.isCanceled,i=e.editUserHandler,l=e.deleteUserHandler;return r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-left"},"Name"),r.a.createElement("td",{className:"text-left"},"Email"),r.a.createElement("td",{className:"text-center"},"Action"))),r.a.createElement("tbody",null,r.a.createElement(b,{data:t,currentUser:this.state,isAdded:a,isEdited:n,isCanceled:s,editUserHandler:i.bind(this),deleteUserHandler:l.bind(this)}),this.renderButtonAddUser()))}}]),a}(n.Component),E=a(34),y=a(33),k=a(17),O=a(10),j=a(11),C=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={currentValues:{},errors:{}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmitForm=e.onSubmitForm.bind(Object(h.a)(e)),e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.setState({currentValues:this.newCurrentValues(this.props.newUser)})}},{key:"componentWillReceiveProps",value:function(e){this.setState({currentValues:this.newCurrentValues(e.newUser)})}},{key:"newCurrentValues",value:function(e){return Object.assign(this.state.currentValues,{id:e.id,name:e.name,email:e.email})}},{key:"validate",value:function(e){var t=this.state.currentValues[e]?null:e+" is blank!";this.setState({errors:Object(j.a)(Object(j.a)({},this.state.errors),{},Object(O.a)({},e,t))})}},{key:"fieldsEmpty",value:function(){var e=this.state.currentValues,t=[];return Object.keys(e).map((function(a){""===e[a]&&t.push(a)})),t}},{key:"validateFields",value:function(){var e=this.state.errors;this.fieldsEmpty().map((function(t){e[t]=t+" is blank!"})),this.setState({errors:e})}},{key:"onChange",value:function(e){var t=this,a=this.state,n=e.target,r=n.name,s=n.value;null===a.currentValues.id&&(a.currentValues.id=Date.now(),a.currentValues.created_at=Date.now()),this.setState({currentValues:Object(j.a)(Object(j.a)({},a.currentValues),{},Object(O.a)({},r,s))},(function(){return t.validate(r)}))}},{key:"onSubmitForm",value:function(e){var t=e.target.name,a="cancel"===t?this.props.oldUser:this.state.currentValues;this.fieldsEmpty().length>0&&"cancel"!==t?this.validateFields():this.props.handleSubmit(a,t)}},{key:"render",value:function(){var e=Object.values(this.state.errors).filter(Boolean).length>0;return this.props.children({currentValues:this.state.currentValues,errors:this.state.errors,onChange:this.onChange,disabled:e,onSubmitForm:this.onSubmitForm})}}]),a}(n.Component),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"initState",value:function(e){this.setState({id:e.id||null,name:e.name||"",email:e.email||""})}},{key:"componentWillReceiveProps",value:function(e){e.isAdded&&this.initState({})}},{key:"componentWillMount",value:function(){this.initState(this.focusUser())}},{key:"focusUser",value:function(){var e=this.props,t=e.users,a=e.focusUserId;return t.find((function(e){return e.id===a}))||{}}},{key:"render",value:function(){return r.a.createElement("div",{className:"mg-l-15"},r.a.createElement(C,{newUser:this.state,oldUser:this.focusUser(),handleSubmit:this.props.onSubmitForm.bind(this)},(function(e){var t=e.currentValues,a=e.errors,n=e.onChange,s=e.disabled,i=e.onSubmitForm;return r.a.createElement(E.a,{width:"100%"},r.a.createElement(E.a.Group,{as:y.a},r.a.createElement(k.a,{sm:"12"},r.a.createElement(E.a.Control,{type:"text",placeholder:"Enter name",value:t.name,onChange:n,name:"name"}),r.a.createElement("div",{className:"error-messages"},a.name))),r.a.createElement(E.a.Group,{as:y.a},r.a.createElement(k.a,{sm:"12"},r.a.createElement(E.a.Control,{type:"email",placeholder:"Enter email",value:t.email,onChange:n,name:"email"}),r.a.createElement("div",{className:"error-messages"},a.email))),r.a.createElement(y.a,null,r.a.createElement(k.a,{sm:"4"}),r.a.createElement(k.a,{sm:"1",className:"mg-r-15"},r.a.createElement(m.a,{variant:"secondary",onClick:i,name:"cancel"},"Cancel")),r.a.createElement(k.a,{sm:"1"},r.a.createElement(m.a,{variant:"success",disabled:s,onClick:i,name:"update"},"Save"))))})))}}]),a}(n.Component),U=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={currentTime:(new Date).toLocaleString()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.setState({currentTime:(new Date).toLocaleString()})}),1e3)}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.currentTime)}}]),a}(n.Component),g=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={hours:0,minutes:0,seconds:0},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;setInterval((function(){e.countTime()}),1e3)}},{key:"countTime",value:function(){var e=this.state,t=e.hours,a=e.minutes,n=e.seconds;n>=59&&(a+=1,n=-1),a>=60&&(t+=1,a=0),this.setState({hours:t,minutes:a,seconds:n+1})}},{key:"convertTime",value:function(e){return e<10?"0".concat(e):e}},{key:"displayTime",value:function(){var e=this.state,t=e.hours,a=e.minutes,n=e.seconds;return r.a.createElement("h3",null,"".concat(this.convertTime(t)," : ").concat(this.convertTime(a)," : ").concat(this.convertTime(n)))}},{key:"render",value:function(){return r.a.createElement("div",null,this.displayTime())}}]),a}(n.Component),H=a(18),N=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={users:JSON.parse(localStorage.getItem("users"))||[],focusUserId:null,isAdded:!1,isEdited:!1,isSaved:!1,isCanceled:!1},e}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(){localStorage.setItem("users",JSON.stringify(this.state.users))}},{key:"addUserHandler",value:function(){this.setState({focusUserId:null,isAdded:!0,isEdited:!1,isCanceled:!1,isSaved:!1})}},{key:"editUserHandler",value:function(e){this.setState({focusUserId:e,isAdded:!1,isEdited:!0,isCanceled:!1,isSaved:!1})}},{key:"deleteUserHandler",value:function(e){var t=this.state.users.filter((function(t){return t.id!==e}));this.setState({users:t})}},{key:"onSubmitForm",value:function(e,t){var a=this.state,n=a.users.map((function(t){return t.id===e.id?e:t}));a="cancel"===t?Object.assign(a,{isCanceled:!0,isAdded:!1,isEdited:!1,isSaved:!1}):Object.assign(a,{isSaved:!0,isCanceled:!1,isEdited:!1}),this.state.isCanceled?this.setState({users:this.state.users,isAdded:!1}):this.state.isAdded?this.setState({users:[].concat(Object(o.a)(this.state.users),[e]),isAdded:!1}):this.setState({users:n,isAdded:!1})}},{key:"renderUserForm",value:function(){var e=this.state,t=e.isAdded,a=e.isCanceled,n=e.isSaved,s=e.focusUserId,i=e.users;return a||n||!t&&null===s?null:r.a.createElement(S,{users:i,focusUserId:s,isAdded:t,isSaved:n,isCanceled:a,onSubmitForm:this.onSubmitForm.bind(this)})}},{key:"renderUserData",value:function(){var e=this.state,t=e.isAdded,a=e.isEdited,n=e.isCanceled,s=e.focusUserId,i=e.users;return r.a.createElement(p,{users:i,focusUserId:s,isAdded:t,isEdited:a,isCanceled:n,addUserHandler:this.addUserHandler.bind(this),editUserHandler:this.editUserHandler.bind(this),deleteUserHandler:this.deleteUserHandler.bind(this)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("table",{className:"table table-bordered"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"text-left"},r.a.createElement("h3",null,"Exercise 2")),r.a.createElement("td",{className:"text-right"},r.a.createElement(g,null)))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{width:"50%"},this.renderUserData()),r.a.createElement("td",null,this.renderUserForm()))))),r.a.createElement("div",{className:"text-center"},r.a.createElement(H.Wave,{text:"Kh\xf3 v\xe3i (\u2565_\u2565)",effect:"stretch",effectChange:2.2}),r.a.createElement(U,null)))}}]),a}(n.Component),A=(a(30),a(31),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(N,null))}}]),a}(r.a.Component));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.3b496336.chunk.js.map